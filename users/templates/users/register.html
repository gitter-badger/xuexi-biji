{% extends "about/base.html" %}
{% load static %}
{% load bootstrap4 %}

{% block title %}
  <link rel="canonical" href="{% url 'users:register' %}">
  <title>注册 | 学生助手</title>
{% endblock title %}

{% block header %}
  <h2>注册一个你的账户</h2>
{% endblock header %}

{% block content %}

  <form id="form" method="post" action="{% url 'users:register' %}" class="form">
    {% csrf_token %}
    {% bootstrap_form form %}
    <div class="form-group"><label for="id_email">电子邮件</label><input type="email" name="email" maxlength="64" onblur="SaveEmail(this.value)" onkeyup="SaveEmail(this.value)" onfocus="SaveEmail(this.value)" class="form-control" placeholder="电子邮件" title="" required id="id_email"><small class="form-text text-muted">为了验证您的账号，请输入您的电子邮件地址，我们永远不会共享该信息。</small></div>

    <div id="unError" class="alert alert-danger" style="display: none"></div>
    <div id="pw1Error" class="alert alert-danger" style="display: none"></div>
    <div id="pw2Error" class="alert alert-danger" style="display: none"></div>
    <div id="emError" class="alert alert-danger" style="display: none"></div>
    <div id="ckError" class="alert alert-danger" style="display: ">
      请开启Cookie后再注册学习笔记！
    </div>

    {% buttons %}
      <button id="btn" name="submit" class="btn btn-primary" disabled="true">
        注册
      </button>
      <a id="toLoginPage" href="{% url 'users:login' %}">已有账号，立即登录</a>
    {% endbuttons %}

    <input type="hidden" name="next" value="{% url 'learning_logs:topics' %}">
  </form>

  <script src="{% static 'users/registerPageAjaxCheckUsername.js' %}"></script>
  
{% endblock content %}